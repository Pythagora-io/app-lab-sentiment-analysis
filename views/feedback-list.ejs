<%- include('partials/_head') %>
<%- include('partials/_header') %>

<div class="animate__animated animate__fadeIn">
<main class="container mt-4">
  <h1>Feedback List</h1>
  <a href="/feedback/analyze" class="btn btn-primary mb-3">Analyze Feedback</a>

  <% if (message) { %>
    <div class="alert alert-success" role="alert">
      <%= message %>
    </div>
  <% } %>

  <% if (feedbacks.length === 0) { %>
    <p>No feedback entries found.</p>
  <% } else { %>
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Date</th>
            <th>Customer Name</th>
            <th>Product</th>
            <th>Feedback</th>
          </tr>
        </thead>
        <tbody>
          <% feedbacks.forEach((feedback, index) => { %>
            <tr class="animate__animated animate__fadeInUp" style="animation-delay: <%= index * 0.1 %>s;">
              <td><%= feedback.date.toLocaleDateString() %></td>
              <td><%= feedback.customerName %></td>
              <td><%= feedback.product %></td>
              <td><%= feedback.feedbackText %></td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  <% } %>
</main>
</div>

<%- include('partials/_footer') %>